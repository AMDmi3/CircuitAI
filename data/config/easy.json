// Mono-space font required
{
// Section defines wich factories to use
"factories": {
	"factorycloak": {
		// Adjusts the priority of factory choice (factories with map_percent < 20 are ignored)
		// map_percent is [20..100]
		// On start: priority ~= map_percent * importance0 + random(-20..+20)
		// During game: priority ~= map_percent * importance1 + random(-20..+20)
		// importanceN = 1.0 by default if not set
		"importance": [1.0, 1.0],

		// 'require_energy' adds energy requirement for tierN (N>0): fallback to lowest tier on low energy
		"require_energy": true,

		// If income*eps < income_tier[N] then 'tierN' probability will be used,
		// eps=(teamSize+3)/4
		"income_tier": [12, 25.5, 40],

		//                 conjurer    glaive,  scythe,       rocko,     warrior,  zeus,      hammer,   sniper,     tick,      eraser,          gremlin
		"unit_def":      ["armrectr", "armpw", "spherepole", "armrock", "armwar", "armzeus", "armham", "armsnipe", "armtick", "spherecloaker", "armjeth"],

		"land": {
			// build probabilities, sum must be 1.0 (if it's not, infolog will shout)
			"tier0": [ 0.00,       0.53,    0.02,         0.15,      0.10,     0.05,      0.05,     0.00,       0.00,      0.00,            0.1],

			// it is possible to skip tiers, e.g.
			// "tier1": [ 0.00,       0.45,    0.12,         0.10,      0.05,     0.15,      0.05,     0.05,       0.01,      0.00,            0.2],
			"tier2": [ 0.00,       0.15,    0.25,         0.05,      0.05,     0.25,      0.01,     0.13,       0.01,      0.00,            0.10],
			"tier3": [ 0.00,       0.01,    0.30,         0.00,      0.05,     0.33,      0.01,     0.20,       0.00,      0.00,            0.10]
		},

		"water": {
			"tier2": [ 1.00,       0.00,    0.00,         0.00,      0.00,     0.00,      0.00,     0.00,       0.00,      0.00,            0.0],
			"tier3": [ 0.00,       0.00,    0.00,         0.00,      0.00,     0.00,      0.00,     0.00,       0.00,      1.00,            0.0]
		}
	},

	"factorygunship": {
		"require_energy": false,

		"income_tier": [40],
		//                 crane,   blastwing,   gnat,     banshee,  rapier,           brawler,    blackdawn,   krow,     valkyrie,  vindicator,   trident
		"unit_def":      ["armca", "blastwing", "bladew", "armkam", "gunshipsupport", "armbrawl", "blackdawn", "corcrw", "corvalk", "corbtrans", "gunshipaa"],
		"land": {
			"tier0": [ 0.00,    0.10,        0.15,     0.30,     0.36,             0.05,       0.02,        0.00,     0.00,      0.00,        0.02],
			"tier1": [ 0.00,    0.01,        0.01,     0.01,     0.10,             0.57,       0.15,        0.05,     0.00,      0.00,        0.10]
		}
	},

	"factoryamph": {
		"require_energy": false,

		"income_tier": [40],
		//                 conch,     duck,          archer,        buoy,          scallop,    grizzly,       djinn,      angler
		"unit_def":      ["amphcon", "amphraider3", "amphraider2", "amphfloater", "amphriot", "amphassault", "amphtele", "amphaa"],
		"land": {
			"tier0": [ 0.00,      0.60,          0.10,          0.15,          0.13,       0.00,          0.00,       0.02],
			"tier1": [ 0.00,      0.01,          0.10,          0.20,          0.20,       0.39,          0.00,       0.10]
		}
	},

	"factoryspider": {
		"require_energy": false,

		"income_tier": [40],
		//                 weaver,       flea,      hermit,          venom,       redback,      recluse,   crabe,      infiltrator, tarantula
		"unit_def":      ["arm_spider", "armflea", "spiderassault", "arm_venom", "spiderriot", "armsptk", "armcrabe", "armspy",    "spideraa"],
		"land": {
			"tier0": [ 0.00,         0.32,      0.25,            0.10,        0.10,         0.20,      0.00,       0.01,        0.02],
			"tier1": [ 0.00,         0.01,      0.01,            0.01,        0.10,         0.12,      0.60,       0.05,        0.10]
		}
	},

	"factoryshield": {
		"require_energy": false,

		"income_tier": [40],
		//                 convict,    dirtbag,   bandit,  rogue,      thug,      outlaw,   felon,         racketeer,    roach,      aspis,          vandal
		"unit_def":      ["cornecro", "corclog", "corak", "corstorm", "corthud", "cormak", "shieldfelon", "shieldarty", "corroach", "core_spectre", "corcrash"],
		"land": {
			"tier0": [ 0.00,      0.10,      0.30,    0.10,       0.18,      0.10,     0.05,          0.10,         0.05,       0.00,           0.02],
			"tier1": [ 0.00,      0.01,      0.01,    0.20,       0.30,      0.10,     0.10,          0.17,         0.01,       0.00,           0.10]
		}
	},

	"factoryveh": {
		"require_energy": false,

		"income_tier": [40],
		//                 mason,    dart,     scorcher,   slasher,   leveler,    ravager,   dominatrix,   wolverine, impaler,   crasher
		"unit_def":      ["corned", "corfav", "corgator", "cormist", "corlevlr", "corraid", "capturecar", "corgarp", "armmerl", "vehaa"],
		"land": {
			"tier0": [ 0.00,     0.10,     0.37,       0.10,      0.10,       0.10,      0.10,         0.10,      0.01,      0.02],
			"tier1": [ 0.00,     0.01,     0.04,       0.10,      0.10,       0.30,      0.20,         0.05,      0.10,      0.10]
		}
	},

	"factoryjump": {
		"require_energy": false,

		"income_tier": [40],
		//                 freaker,   puppy,   pyro,      placeholder,     moderator,  jack,     sumo,      firewalker,   skuttle,   archangel
		"unit_def":      ["corfast", "puppy", "corpyro", "jumpblackhole", "slowmort", "corcan", "corsumo", "firewalker", "corsktl", "armaak"],
		"land": {
			"tier0": [ 0.00,      0.07,    0.60,      0.05,            0.10,       0.05,     0.00,      0.10,         0.01,      0.02],
			"tier1": [ 0.00,      0.01,    0.10,      0.10,            0.10,       0.30,     0.05,      0.20,         0.04,      0.10]
		}
	},

	"factoryhover": {
		"require_energy": false,

		"income_tier": [40],
		//                 quill,   dagger,  scalpel,    halberd,        claymore,           mace,        penetrator, flail
		"unit_def":      ["corch", "corsh", "nsaclash", "hoverassault", "hoverdepthcharge", "hoverriot", "armmanni", "hoveraa"],
		"land": {
			"tier0": [ 0.00,    0.60,    0.10,       0.17,           0.01,               0.10,        0.00,       0.02],
			"tier1": [ 0.00,    0.01,    0.20,       0.30,           0.01,               0.20,        0.18,       0.10]
		}
	},

	"factoryship": {
		"importance": [1.1],
		"require_energy": false,

		"income_tier": [40],
		//                 mariner,   skeeter,     snake,       typhoon,      hunter,     enforcer,    crusader,   serpent,   surfboard,  shredder
		"unit_def":      ["shipcon", "shipscout", "subraider", "shipraider", "shiptorp", "shipskirm", "shiparty", "subarty", "armtboat", "shipaa"],
		"land": {
			"tier0": [ 0.00,      0.10,        0.30,        0.30,         0.17,       0.05,        0.05,       0.01,      0.00,       0.02],
			"tier1": [ 0.00,      0.01,        0.10,        0.10,         0.20,       0.10,        0.20,       0.19,      0.00,       0.10]
		}
	},

	"factoryplane": {
		"require_energy": false,

		"income_tier": [40],
		//                 crane,   swift,     hawk,      raven,     phoenix,    thunderbird,         wyvern,    vulture
		"unit_def":      ["armca", "fighter", "corvamp", "corshad", "corhurc2", "armstiletto_laser", "armcybr", "corawac"],
		"land": {
			"tier0": [ 0.00,    0.64,      0.10,      0.20,      0.01,       0.05,                0.00,      0.00],
			"tier1": [ 0.00,    0.10,      0.10,      0.10,      0.10,       0.10,                0.50,      0.00]
		}
	},

	"factorytank": {
		"require_energy": false,

		"income_tier": [40],
		//                 welder,   kodachi,   panther,   banisher,  reaper,    goliath,  pillager,  tremor, copperhead
		"unit_def":      ["coracv", "logkoda", "panther", "tawf114", "correap", "corgol", "cormart", "trem", "corsent"],
		"land": {
			"tier0": [ 0.00,     0.20,      0.47,      0.30,      0.00,      0.00,     0.01,      0.00,   0.02],
			"tier1": [ 0.00,     0.01,      0.09,      0.10,      0.39,      0.10,     0.20,      0.01,   0.10]
		}
	},

	"striderhub": {
		"importance": [0, 1.0],
		"require_energy": false,
		"income_tier": [120],
		//                 ultimatum,    scorpion,   dante,   catapult,   funnelweb,   bantha,     detriment, leviathan,    reef,   warlord
		"unit_def":      ["armcomdgun", "scorpion", "dante", "armraven", "funnelweb", "armbanth", "armorco", "cornukesub", "reef", "corbats"],
		"land": {
			"tier0": [ 0.01,         0.10,       0.69,    0.05,       0.10,        0.05,       0.00,      0.00,         0.00,   0.00],
			"tier1": [ 0.10,         0.30,       0.25,    0.07,       0.10,        0.15,       0.03,      0.00,         0.00,   0.00]
		},
		"water": {
			"tier0": [ 0.50,         0.00,       0.00,    0.00,       0.00,        0.00,       0.00,      0.00,         0.25,   0.25],
			"tier1": [ 0.10,         0.00,       0.00,    0.00,       0.00,        0.00,       0.10,      0.00,         0.40,   0.40]
		}
	}
},


"builder": ["armrectr", "armca", "amphcon", "arm_spider", "corned", "corch", "coracv", "corfast", "cornecro", "shipcon"],

// Units defined as scouts will use pathfinder to visit each uncolonized mex
"scout": [
	// factorycloak
	"armpw", "spherepole",

	// factorygunship
	"bladew", "armkam",

	// factoryamph
	"amphraider3", "amphraider2",

	// factoryspider
	"armflea", "armspy",

	// factoryshield
	"corclog", "corak",

	// factoryveh
	"corfav", "corgator", "capturecar",

	// factoryjump
	"puppy", "corpyro",

	// factoryhover
	"corsh",

	// factoryship
	"shipscout", "subraider", "shipraider",

	// factoryplane
	"fighter", "corawac",

	// factorytank
	"logkoda"
],

"riot": [
	// factorycloak
	"armwar",

	// factoryamph
	"amphraider2", "amphriot",

	// factoryspider
	"arm_venom", "spiderriot",

	// factoryshield
	"cormak",

	// factoryveh
	"corlevlr",

	// factoryjump
	"corpyro",

	// factoryhover
	"hoverriot",

	// factoryship
	"shiptorp",

	// factorytank
	"tawf114"
],

// Rearm-addictive units, require airpad
"bomber": ["corshad", "corhurc2", "armstiletto_laser", "armcybr"],

"melee": ["amphraider2"],

"artillery": ["armham", "armbrawl", "armmerl", "armmanni", "cormart", "firewalker", "shieldarty", "shiparty"],

"anti_air": ["armjeth", "gunshipaa", "amphaa", "spideraa", "corcrash", "vehaa", "armaak", "hoveraa", "shipaa", "fighter", "corsent"],


// If unit's health drops below specified percent it will retreat
"retreat": {
	// default value for all builders
	"_builder_": 0.8,

	// default value for all fighters
	"_fighter_": 0.6,

	"blastwing": 0.1,
	"spherepole": 0.2
},

// Limits of energy structures partly defined by parabola in space (structure_cost/energyMake, unit_limit).
// Parabola defined by 3 control points.
// For example land config:
//   P0 = cafus: (4000/225; random(1..2)) = (17.78, 1)
//   P1 = armfus: (1000/35; random(3)) = (28.57, 3)
//   P2 = armsolar: (70/2; random(10..15)) = (35, 13)
// P(x) => y = 0.079550*x*x - 3.501790*x + 38.113789
// Then parabola P(x) defines limit for
//   "geo": x=500/25=20, y = P(20) = 31.82 - 70.0358 + 38.113789 ~= 0
//   "armwin": x=35/1.2=29.17, y = P(29.17) ~= 4
//
// Metal income condition for energy structure is: income > sqrt(structure_cost*0.4).
// Energy buildings are sorted by structure_cost/energy_make (asc).
// Config in example with income_factor=0.8 leads to next build choice:
//   1) nothing if singu_limit >= 1;
//   2) else if singu_limit < 1 and income > 50 then singu;
//   (ignored) else if geo_limit < 0 and income > 17.68 then geo;
//   3) else if fusion_limit < 3 and income > 25 then fusion;
//   4) else if tidal_limit < 4 and income > 4.68 then wind/tidal;
//   5) else if solar_limit < 13 and income > 6.61 then solar;
//   6) if nothing selected then build lowest energy that didn't reach its limit, disregard income.
"energy": {
	// If land area >= 40% of the map then "land" config used, "water" otherwise
	"land": {
		// "<energy_def>": [<lower limit>, <upper limit>]
		// limit = random(<lower limit>..<upper limit>)
		"cafus": [1, 2],
		"armfus": [3],
		"armsolar": [10, 15]
	},
	"water": {
		"cafus": [1],
		"armfus": [3],
		"armwin": [20]
	},
	"income_factor": 0.8
},

// Build special units when enemy_metal*ratio > response_metal*eps; eps=teamSize*eps_step+(1-eps_step)
// AA condition for 3v3: (air_metal*0.6 > (aa_metal+aa_cost)*3) and (aa_metal+aa_cost < army_metal*0.8).
"response": {
	"anti_air": {
		"ratio": 0.6,
		"max_percent": 0.8,
		"eps_step": 1.0
	},
	"artillery": {
		"ratio": 0.2,
		"max_percent": 0.5,
		"eps_step": 1.0
	}
}
}
